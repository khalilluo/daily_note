必须在带有 async 关键字的 **异步函数** 中使用 `await`：

```dart
Future<void> checkVersion() async {
  var version = await lookUpVersion();
  // Do something with version
}
```

使用 `try`、`catch` 以及 `finally` 来处理使用 `await` 导致的异常：

```dart
try {
  version = await lookUpVersion();
} catch (e) {
  // React to inability to look up the version
}
```

你可以在异步函数中多次使用 `await` 关键字。例如，下面代码中等待了三次函数结果：

```dart
var entrypoint = await findEntryPoint();
var exitCode = await runExecutable(entrypoint, args);
await flushThenExit(exitCode);
await *表达式的返回值通常是一个 Future 对象；如果不是的话也会自动将其包裹在一个 Future 对象里。 Future 对象代表一个“承诺”， `await \*表达式\*`会阻塞直到需要的对象返回。*
```

**如果在使用 `await` 时导致编译错误，请确保 `await` 在一个异步函数中使用**。例如，如果想在 main() 函数中使用 `await`，那么 `main()` 函数就必须使用 `async` 关键字标识。

```dart
Future<void> main() async {
  checkVersion();
  print('In main: version is ${await lookUpVersion()}');
}
```

###  声明异步函数

**异步函数** 是函数体由 `async` 关键字标记的函数。

将关键字 `async` 添加到函数并让其返回一个 Future 对象。假设有如下返回 String 对象的方法：

```dart
String lookUpVersion() => '1.0.0';
```

将其改为异步函数，返回值是 Future：

```dart
Future<String> lookUpVersion() async => '1.0.0';
```

注意，函数体不需要使用 Future API。如有必要，Dart 会创建 Future 对象。

如果函数没有返回有效值，需要设置其返回类型为 `Future<void>`。