## 搭建
```shell
docker run -d -p 5000:5000 --restart=always -v /opt/data/registry:/var/lib/registry --name registry registry
```

## 配置
没有使用https，需要在所有使用私有仓库的docker客户端中配置。注意如果没有安装json格式的话docker会不能启动
```shell
# 在/etc/docker/daemon.json添加
"insecure-registries": [ "192.168.199.100:5000" ]
```

## 上传
格式为 docker tag IMAGE[:TAG] [REGISTRY_HOST[:REGISTRY_PORT]/]REPOSITORY[:TAG]

```shell
docker tag ubuntu:latest 192.168.199.100:5000/ubuntu:latest

docker push 192.168.199.100:5000/ubuntu:latest
```

## 查看
```shell
curl 127.0.0.1:5000/v2/_catalog
```

## 使用
需要先配置daemon.json私有仓库
```shell 
docker pull 192.168.199.100:5000/ubuntu:latest
```
