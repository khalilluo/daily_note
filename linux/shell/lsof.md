## 说明
它是指“列出打开文件（lists openfiles）


### 关键选项

当你给它传递选项时，默认行为是对结果进行 “或” 运算。因此，如果你正是用 - i 来拉出一个端口列表，同时又用 - p 来拉出一个进程列表，那么默认情况下你会获得两者的结果。

下面的一些其它东西需要牢记：
-   默认 : 没有选项，lsof 列出活跃进程的所有打开文件
-   组合 : 可以将选项组合到一起，如 - abc，但要当心哪些选项需要参数
-   -a : 结果进行 “与” 运算（而不是“或”）
-   -l : 在输出显示用户 ID 而不是用户名
-   -h : 获得帮助
-   -t : 仅获取进程 ID
-   -U : 获取 UNIX 套接口地址
-   -F : 格式化输出结果，用于其它命令。可以通过多种方式格式化，如 - F pcfn（用于进程 id、命令名、文件描述符、文件名，并以空终止）


### 获取网络信息
正如我所说的，我主要将 lsof 用于获取关于系统怎么和网络交互的信息。这里提供了关于此信息的一些主题：


```shell
# 使用 -i 显示所有连接
lsof  -i

# 仅显示 TCP 连接
lsof  -iTCP

# 使用 - i:port 来显示与指定端口相关的网络信息
lsof  -i :22

# 使用 @host 来显示指定到指定主机的连接
lsof  -i@172.16.12.5
```


### 文件和目录
通过查看指定文件或目录，你可以看到系统上所有正与其交互的资源——包括用户、进程等
```shell
lsof  /var/log/messages/
lsof  /home/daniel/firewall_whitelist.txt
```


### 其他
```shell
# 显示归属 gid 的进程情况
lsof -g gid

# 显示 abc 进程现在打开的文件
lsof -c abc
# 列出多个程序多打开的文件信息
lsof -c mysql -c apache


# 列出某个用户打开的文件信息 
lsof -u username



# 列出谁在使用某个特定的udp端口
lsof -i udp:55

# 特定的tcp端口
lsof -i tcp:80
```
