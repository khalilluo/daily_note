### -fPIC

GCC默认添加此选项，但建议编译动态库so时显示添加，编译静态库a不添加。因为静态库只是目标文件的合集

加了fPIC。
- 实现真正意义上的多个进程共享so文件
多个进程引用同一个 PIC 动态库时，可以共用内存。这一个库在不同进程中的虚拟地址不同，但操作系统显然会把它们映射到同一块物理内存上。

不加-fPIC的
- 不加fPIC，则加载so文件时，需要对代码段引用的数据对象需要重定位，重定位会修改代码段的内容,这就造成每个使用这个.so文件代码段的进程在内核里都会生成这个.so文件代码段的copy.每个copy都不一样,取决于这个.so文件代码段和数据段内存映射的位置。
可见，这种方式更消耗内存。
但是不加fPIC编译的 so文件的优点是加载速度比较快