## 连续获取
``` shell
# 执行了一个存储过程， 需要将结果集取完，然后才能调用下一个返回结果集的命令
MySQL error(2014) Commands out of sync; you can't run this command now
```

产生以上问题的原因有两个：
一是在将MYSQL_RES所指对象释放(使用mysql_free_result()）之前，执行了一个新的query；
二是执行了两条会返回结果的query，两者之间没有调用mysql_use_result() 或者 mysql_store_result() 来将结果集取出来。

MySQL 和客户端通信使用的是“半双工”的应答协议，客户端每发送一个查询，服务器“强行推送”结果给客户端，客户端需要执行 mysql_use_result() 或 mysql_store_result() 从服务器端取回结果，这是一次完整的查询交互，只提交查询而不取回结果就会导致 Commands out of sync。


## 域名解析失败

Client连接到server后，Mysql首先会在本地TCP池中依据IP地址解析client的hostname或者反解析( /etc/hosts 文件)，假设解析不到。就会去DNS中进行解析，假设还是解析失败  
就是在error log中写入这种警告信息
``` 
 [Warning] IP address '61.143.209.110' could not be resolved: Temporary failure in name resolution
```

### 解决办法：

1.  把client的ip和主机名写在mysql服务器的/etc/hosts文件里。记录完之后，直接Ping主机名就能ping通了。
2. 在 my.cnf 中加入skip-name-resolve，来禁用DNS主机名查找 。

 对于第一种方法比较笨，也不实用，skip-name-resolve 选项可以禁用dns解析，但是，这样不能在mysql授权时中指定主机名了，只能指定IP
  **skip-host-cache:禁用主机名缓存**
  **skip-name-resolve:禁用主机名解析**