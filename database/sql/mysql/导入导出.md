### 导出导入表

^061bff

#### 导出
注意需要携带 --set-gtid-purged=OFF 不带gid，写binlog。这样从库能拿到对应的binlong。
如果是master-slave（master）-slave的多级主从架构，则主master备份导入slave（master）时需设置--set-gtid-purged=OFF
```shell
# 导出d1和d2数据库表和数据
mysqldump -uroot -p --databases d1 d2 > /home/d12.sql

# 导出所有表和数据
mysqldump -uroot -p --all-databases >/tmp/all.sql

# 不导出数据添加选项：--no-data
```

#### 导入
```shell
mysql -uroot -p --default-character-set=utf8  < /home/d12.sql
```

#### 错误
问题
导入时出现cannot be changed the added gtid set must not overlap 
解决
带有GTID信息的导入文件, 要求当前数据库中无其他GTID信息，将SET @@GLOBAL.GTID_PURGED注释掉即可