

## ## 当 shared_ptr 对象指向数组
```c++
// 需要添加自定义删除器的使用方式
std::shared_ptr<int> p3(new int[12]);   // 仅用于演示自定义删除器

// 指向数组的智能指针可以使用这种形式
std::shared_ptr<int[]> p3(new int[12]);  // 正确使用方式,C17之前不允许


// C++17之前
//指定 default_delete 作为释放规则
std::shared_ptr<int> p6(new int[10], std::default_delete<int[]>());

//自定义释放规则
void deleteInt(int*p) {
    delete []p;
}
//初始化智能指针，并自定义释放规则
std::shared_ptr<int> p7(new int[10], deleteInt);


// 像这样申请的数组，应该调用delete []释放内存，而shared_ptr<int>析构函数中默认delete并不能满足需，可以使用shared_ptr<int[]>形式或者添加自定义删除器。
```


### 给shared_ptr添加自定义删除器
``` c++
// 自定义删除器
void deleter(Sample * x)
{
	std::cout << "DELETER FUNCTION CALLED\n";
	delete[] x;
}
// 构造函数传递自定义删除器指针
std::shared_ptr<Sample> p3(new Sample[12], deleter);

```